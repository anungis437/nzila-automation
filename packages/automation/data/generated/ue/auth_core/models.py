"""
Django models for auth_core app.
Auto-generated by Nzila Code Generator â€” 2026-02-17

DO NOT EDIT manually unless you know what you're doing.
Re-run the generator to overwrite.
"""
import uuid
from django.db import models
from django.contrib.postgres.fields import ArrayField
from django.contrib.postgres.search import SearchVectorField

try:
    from pgvector.django import VectorField
except ImportError:
    VectorField = None  # pgvector not installed


class BaseModel(models.Model):
    """Abstract base with standard audit fields."""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)

    class Meta:
        abstract = True


class TenantModel(BaseModel):
    """Abstract base for multi-tenant models."""
    organization = models.ForeignKey(
        'organizations.Organization',
        on_delete=models.CASCADE,
        related_name='%(class)ss'
    )

    class Meta:
        abstract = True



class InternationalAddresses(models.Model):
    """Migrated from drizzle: addresses.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    organization_id = models.UUIDField(null=True, blank=True)

    class Meta:
        db_table = 'international_addresses'
        verbose_name = 'InternationalAddresses'

class CountryAddressFormats(BaseModel):
    """Migrated from drizzle: addresses.ts"""
    country_code = models.TextField(unique=True)
    country_name = models.TextField()
    iso3_code = models.TextField(null=True, blank=True)
    locality_label = models.TextField(default="City")
    administrative_area_label = models.TextField(null=True, blank=True, default="State")
    postal_code_label = models.TextField(null=True, blank=True, default="Postal Code")
    sub_administrative_area_label = models.TextField(null=True, blank=True)
    required_fields = models.JSONField(default=dict, null=True, blank=True)
    optional_fields = models.JSONField(default=dict, null=True, blank=True)
    address_format = models.TextField()
    display_order = models.JSONField(default=dict, null=True, blank=True)
    postal_code_required = models.BooleanField(default=False)
    postal_code_pattern = models.TextField(null=True, blank=True)
    postal_code_example = models.TextField(null=True, blank=True)
    postal_code_length = models.IntegerField(null=True, blank=True)
    administrative_areas = models.JSONField(default=dict, null=True, blank=True)
    has_subdivisions = models.BooleanField(default=False)
    validation_rules = models.JSONField(default=dict, null=True, blank=True)
    geocoding_supported = models.BooleanField(default=False)
    preferred_geocoder = models.TextField(null=True, blank=True)
    standardization_provider = models.TextField(null=True, blank=True)
    standardization_available = models.BooleanField(default=False)
    example_addresses = models.JSONField(default=dict, null=True, blank=True)
    metadata = models.JSONField(default=dict, null=True, blank=True)

    class Meta:
        db_table = 'country_address_formats'
        verbose_name = 'CountryAddressFormats'
        ordering = ['-created_at']

class AddressValidationCache(models.Model):
    """Migrated from drizzle: addresses.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    input_hash = models.TextField(unique=True)
    country_code = models.TextField()
    address_line1 = models.TextField()
    locality = models.TextField()
    administrative_area = models.TextField(null=True, blank=True)
    postal_code = models.TextField(null=True, blank=True)
    is_valid = models.BooleanField(default=False)
    validated_by = models.TextField()
    confidence = models.TextField(null=True, blank=True)
    corrected_address = models.JSONField(default=dict, null=True, blank=True)
    latitude = models.TextField(null=True, blank=True)
    longitude = models.TextField(null=True, blank=True)
    metadata = models.JSONField(default=dict, null=True, blank=True)
    expires_at = models.DateTimeField()
    hit_count = models.IntegerField(default=1)
    last_hit_at = models.DateTimeField()
    created_at = models.DateTimeField()

    class Meta:
        db_table = 'address_validation_cache'
        verbose_name = 'AddressValidationCache'
        ordering = ['-created_at']

class AddressChangeHistory(models.Model):
    """Migrated from drizzle: addresses.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    address_id = models.UUIDField(null=True, blank=True)

    class Meta:
        db_table = 'address_change_history'
        verbose_name = 'AddressChangeHistory'

class FeatureFlags(models.Model):
    """Migrated from drizzle: features.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    name = models.TextField(unique=True)
    type = models.TextField(default='boolean')
    enabled = models.BooleanField(default=False)
    percentage = models.IntegerField(null=True, blank=True)
    allowed_organizations = models.JSONField(default=dict, null=True, blank=True)
    allowed_users = models.JSONField(default=dict, null=True, blank=True)
    description = models.TextField(null=True, blank=True)
    tags = models.JSONField(default=dict, null=True, blank=True)
    created_at = models.DateTimeField(null=True, blank=True)

    class Meta:
        db_table = 'feature_flags'
        verbose_name = 'FeatureFlags'
        ordering = ['-created_at']

    def __str__(self):
        return str(self.name)

class OrganizationSharingSettings(models.Model):
    """Migrated from drizzle: sharing.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    organization_id = models.UUIDField(null=True, blank=True)

    class Meta:
        db_table = 'organization_sharing_settings'
        verbose_name = 'OrganizationSharingSettings'

class CrossOrgAccessLog(models.Model):
    """Migrated from drizzle: sharing.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    user_id = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = 'cross_org_access_log'
        verbose_name = 'CrossOrgAccessLog'

class OrganizationSharingGrants(models.Model):
    """Migrated from drizzle: sharing.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    grantor_org_id = models.UUIDField(null=True, blank=True)

    class Meta:
        db_table = 'organization_sharing_grants'
        verbose_name = 'OrganizationSharingGrants'

class UserUuidMapping(models.Model):
    """Migrated from drizzle: uuid-mapping.ts"""
    user_uuid = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    clerk_user_id = models.TextField(unique=True)
    created_at = models.DateTimeField(null=True, blank=True)

    class Meta:
        db_table = 'user_uuid_mapping'
        verbose_name = 'UserUuidMapping'
        ordering = ['-created_at']

class PendingProfiles(models.Model):
    """Migrated from drizzle: pending-profiles.ts"""
    id = models.TextField()
    email = models.TextField(unique=True)
    token = models.TextField(null=True, blank=True)
    membership = models.TextField(default="pro")
    payment_provider = models.TextField(null=True, blank=True, default="whop")
    whop_user_id = models.TextField(null=True, blank=True)
    whop_membership_id = models.TextField(null=True, blank=True)
    plan_duration = models.TextField(null=True, blank=True)
    billing_cycle_start = models.DateTimeField(null=True, blank=True)
    billing_cycle_end = models.DateTimeField(null=True, blank=True)
    next_credit_renewal = models.DateTimeField(null=True, blank=True)
    usage_credits = models.IntegerField(null=True, blank=True, default=0)
    used_credits = models.IntegerField(null=True, blank=True, default=0)
    claimed = models.BooleanField(default=False)
    claimed_by_user_id = models.TextField(null=True, blank=True)
    claimed_at = models.DateTimeField(null=True, blank=True)
    created_at = models.DateTimeField()
    updated_at = models.DateTimeField(null=True, blank=True)

    class Meta:
        db_table = 'pending_profiles'
        verbose_name = 'PendingProfiles'
        ordering = ['-created_at']

    def __str__(self):
        return str(self.email)

class Profiles(models.Model):
    """Migrated from drizzle: profiles.ts"""
    MEMBERSHIP_CHOICES = [('free', 'Free'), ('pro', 'Pro')]
    PAYMENT_PROVIDER_CHOICES = [('stripe', 'Stripe'), ('whop', 'Whop')]
    WHOP_MEMBERSHIP_ID_CHOICES = [('free', 'Free'), ('pro', 'Pro')]

    user_id = models.TextField()
    email = models.TextField(null=True, blank=True)
    membership = models.CharField(choices=MEMBERSHIP_CHOICES, max_length=14, default="free")
    payment_provider = models.CharField(choices=PAYMENT_PROVIDER_CHOICES, max_length=16, null=True, blank=True, default="whop")
    stripe_customer_id = models.TextField(null=True, blank=True)
    stripe_subscription_id = models.TextField(null=True, blank=True)
    whop_user_id = models.TextField(null=True, blank=True)
    whop_membership_id = models.CharField(choices=WHOP_MEMBERSHIP_ID_CHOICES, max_length=14, null=True, blank=True)
    plan_duration = models.TextField(null=True, blank=True)
    billing_cycle_start = models.DateTimeField(null=True, blank=True)
    billing_cycle_end = models.DateTimeField(null=True, blank=True)
    next_credit_renewal = models.DateTimeField(null=True, blank=True)
    usage_credits = models.IntegerField(null=True, blank=True, default=0)
    used_credits = models.IntegerField(null=True, blank=True, default=0)
    status = models.TextField(null=True, blank=True, default="active")
    created_at = models.DateTimeField()
    updated_at = models.DateTimeField(null=True, blank=True)

    class Meta:
        db_table = 'profiles'
        verbose_name = 'Profiles'
        ordering = ['-created_at']

    def __str__(self):
        return str(self.email)

class Users(models.Model):
    """Migrated from drizzle: user-management.ts"""
    user_id = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = 'users'
        verbose_name = 'Users'

class OrganizationUsers(models.Model):
    """Migrated from drizzle: user-management.ts"""
    organization_user_id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    organization = models.ForeignKey('Organizations', on_delete=models.CASCADE, related_name='organizations')

    class Meta:
        db_table = 'organization_users'
        verbose_name = 'OrganizationUsers'

class UserSessions(models.Model):
    """Migrated from drizzle: user-management.ts"""
    session_id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    user_id = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = 'user_sessions'
        verbose_name = 'UserSessions'

class OauthProviders(models.Model):
    """Migrated from drizzle: user-management.ts"""
    provider_id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    user_id = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = 'oauth_providers'
        verbose_name = 'OauthProviders'

class MemberContactPreferences(BaseModel):
    """Migrated from drizzle: member-profile-v2-schema.ts"""
    user_id = models.UUIDField(unique=True)
    organization_id = models.UUIDField()
    preferred_contact_method = models.TextField(default='email')
    preferred_language = models.TextField(null=True, blank=True, default='en')
    email_opt_in = models.BooleanField(default=False)
    sms_opt_in = models.BooleanField(default=False)
    phone_opt_in = models.BooleanField(default=False)
    mail_opt_in = models.BooleanField(default=False)
    notification_preferences = models.JSONField(default=dict, null=True, blank=True)
    best_contact_times = models.JSONField(default=dict, null=True, blank=True)
    alternative_email = models.TextField(null=True, blank=True)
    alternative_phone = models.TextField(null=True, blank=True)
    emergency_contact_name = models.TextField(null=True, blank=True)
    emergency_contact_phone = models.TextField(null=True, blank=True)
    emergency_contact_relation = models.TextField(null=True, blank=True)
    accessibility_needs = models.TextField(null=True, blank=True)
    interpreter_required = models.BooleanField(default=False)
    interpreter_language = models.TextField(null=True, blank=True)
    metadata = models.JSONField(default=dict, null=True, blank=True)
    last_modified_by = models.TextField(null=True, blank=True)

    class Meta:
        db_table = 'member_contact_preferences'
        verbose_name = 'MemberContactPreferences'
        ordering = ['-created_at']

class MemberEmploymentDetails(BaseModel):
    """Migrated from drizzle: member-profile-v2-schema.ts"""
    user_id = models.UUIDField(unique=True)
    organization_id = models.UUIDField()
    classification = models.TextField()
    job_title = models.TextField(null=True, blank=True)
    job_code = models.TextField(null=True, blank=True)
    pay_grade = models.TextField(null=True, blank=True)
    work_location_id = models.UUIDField(null=True, blank=True)
    department = models.TextField(null=True, blank=True)
    division = models.TextField(null=True, blank=True)
    cost_center = models.TextField(null=True, blank=True)
    seniority_date = models.DateTimeField(null=True, blank=True)
    seniority_years = models.IntegerField(null=True, blank=True)
    seniority_points = models.IntegerField(null=True, blank=True)
    shift_type = models.TextField(null=True, blank=True)
    shift_start = models.TextField(null=True, blank=True)
    shift_end = models.TextField(null=True, blank=True)
    work_days = models.JSONField(default=dict, null=True, blank=True)
    hours_per_week = models.IntegerField(null=True, blank=True)
    supervisor_name = models.TextField(null=True, blank=True)
    supervisor_id = models.UUIDField(null=True, blank=True)
    supervisor_contact = models.TextField(null=True, blank=True)
    employment_status = models.TextField(default='active')
    status_effective_date = models.DateTimeField(null=True, blank=True)
    status_reason = models.TextField(null=True, blank=True)
    expected_return_date = models.DateTimeField(null=True, blank=True)
    benefits_eligible = models.BooleanField(default=False)
    benefits_enrollment_date = models.DateTimeField(null=True, blank=True)
    pension_plan_enrolled = models.BooleanField(default=False)
    probation_end_date = models.DateTimeField(null=True, blank=True)
    is_probationary = models.BooleanField(default=False)
    steward = models.BooleanField(default=False)
    officer = models.BooleanField(default=False)
    committee_member = models.BooleanField(default=False)
    metadata = models.JSONField(default=dict, null=True, blank=True)
    last_modified_by = models.TextField(null=True, blank=True)

    class Meta:
        db_table = 'member_employment_details'
        verbose_name = 'MemberEmploymentDetails'
        ordering = ['-created_at']

class MemberConsents(models.Model):
    """Migrated from drizzle: member-profile-v2-schema.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    user_id = models.UUIDField()
    organization_id = models.UUIDField()
    consent_type = models.TextField()
    consent_category = models.TextField()
    granted = models.BooleanField(default=False)
    granted_at = models.DateTimeField(null=True, blank=True)
    revoked_at = models.DateTimeField(null=True, blank=True)
    consent_version = models.TextField(null=True, blank=True)
    consent_text = models.TextField(null=True, blank=True)
    consent_method = models.TextField(null=True, blank=True)
    ip_address = models.TextField(null=True, blank=True)
    user_agent = models.TextField(null=True, blank=True)
    witnessed_by = models.TextField(null=True, blank=True)
    expires_at = models.DateTimeField(null=True, blank=True)
    requires_renewal = models.BooleanField(default=False)
    metadata = models.JSONField(default=dict, null=True, blank=True)
    created_at = models.DateTimeField()
    created_by = models.TextField(null=True, blank=True)

    class Meta:
        db_table = 'member_consents'
        verbose_name = 'MemberConsents'
        ordering = ['-created_at']

class MemberHistoryEvents(models.Model):
    """Migrated from drizzle: member-profile-v2-schema.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    user_id = models.UUIDField()
    organization_id = models.UUIDField()
    event_type = models.TextField()
    event_category = models.TextField()
    event_date = models.DateTimeField()
    event_title = models.TextField()
    event_description = models.TextField(null=True, blank=True)
    event_data = models.JSONField(default=dict, null=True, blank=True)
    actor_id = models.TextField(null=True, blank=True)
    actor_name = models.TextField(null=True, blank=True)
    is_public = models.BooleanField(default=False)
    visible_to_member = models.BooleanField(default=False)
    metadata = models.JSONField(default=dict, null=True, blank=True)
    created_at = models.DateTimeField()
    created_by = models.TextField(null=True, blank=True)

    class Meta:
        db_table = 'member_history_events'
        verbose_name = 'MemberHistoryEvents'
        ordering = ['-created_at']

class OrganizationMembers(models.Model):
    """Migrated from drizzle: organization-members-schema.ts"""
    MEMBER_CATEGORY_CHOICES = [('full_member', 'Full Member'), ('associate', 'Associate'), ('honorary', 'Honorary'), ('retired', 'Retired')]

    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    user_id = models.TextField()
    organization = models.ForeignKey('Organizations', on_delete=models.CASCADE, related_name='organizations')
    role = models.TextField()
    status = models.TextField()
    membership_number = models.TextField(null=True, blank=True)
    is_primary = models.BooleanField(default=False)
    member_category = models.CharField(choices=MEMBER_CATEGORY_CHOICES, max_length=21, null=True, blank=True)
    exempt_from_per_capita = models.BooleanField(default=False)
    exemption_reason = models.TextField(null=True, blank=True)
    exemption_approved_by = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = 'organization_members'
        verbose_name = 'OrganizationMembers'

class SsoProviders(models.Model):
    """Migrated from drizzle: sso-scim-schema.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    organization = models.ForeignKey('Organizations', on_delete=models.CASCADE, related_name='organizations')

    class Meta:
        db_table = 'sso_providers'
        verbose_name = 'SsoProviders'

class ScimConfigurations(models.Model):
    """Migrated from drizzle: sso-scim-schema.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    organization = models.ForeignKey('Organizations', on_delete=models.CASCADE, related_name='organizations')

    class Meta:
        db_table = 'scim_configurations'
        verbose_name = 'ScimConfigurations'

class SsoSessions(models.Model):
    """Migrated from drizzle: sso-scim-schema.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    provider = models.ForeignKey('SsoProviders', on_delete=models.CASCADE, related_name='providers')

    class Meta:
        db_table = 'sso_sessions'
        verbose_name = 'SsoSessions'

class ScimEventsLog(models.Model):
    """Migrated from drizzle: sso-scim-schema.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    config = models.ForeignKey('ScimConfigurations', on_delete=models.CASCADE, related_name='configs')

    class Meta:
        db_table = 'scim_events_log'
        verbose_name = 'ScimEventsLog'

class MfaConfigurations(models.Model):
    """Migrated from drizzle: sso-scim-schema.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    user_id = models.UUIDField()
    organization = models.ForeignKey('Organizations', on_delete=models.CASCADE, related_name='organizations')

    class Meta:
        db_table = 'mfa_configurations'
        verbose_name = 'MfaConfigurations'