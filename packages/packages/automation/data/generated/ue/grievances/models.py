"""
Django models for grievances app.
Auto-generated by Nzila Code Generator â€” 2026-02-17

DO NOT EDIT manually unless you know what you're doing.
Re-run the generator to overwrite.
"""
import uuid
from django.db import models
from django.contrib.postgres.fields import ArrayField
from django.contrib.postgres.search import SearchVectorField

try:
    from pgvector.django import VectorField
except ImportError:
    VectorField = None  # pgvector not installed


class BaseModel(models.Model):
    """Abstract base with standard audit fields."""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)

    class Meta:
        abstract = True


class OrganizationModel(BaseModel):
    """Abstract base for multi-organization models."""
    organization = models.ForeignKey(
        'organizations.Organization',
        on_delete=models.CASCADE,
        related_name='%(class)ss'
    )

    class Meta:
        abstract = True



class ClaimPrecedentAnalysis(models.Model):
    """Migrated from drizzle: cba-intelligence-schema.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    claim_id = models.UUIDField()
    precedent_matches = models.JSONField(default=dict, null=True, blank=True)
    success_probability = models.DecimalField(max_digits=19, decimal_places=2, null=True, blank=True)

    class Meta:
        db_table = 'claim_precedent_analysis'
        verbose_name = 'ClaimPrecedentAnalysis'

class Claims(models.Model):
    """Migrated from drizzle: claims-schema.ts"""
    claim_id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    claim_number = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = 'claims'
        verbose_name = 'Claims'

    def __str__(self):
        return str(self.claim_number)

class ClaimUpdates(models.Model):
    """Migrated from drizzle: claims-schema.ts"""
    update_id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    claim = models.ForeignKey('Claims', on_delete=models.CASCADE, related_name='claims')

    class Meta:
        db_table = 'claim_updates'
        verbose_name = 'ClaimUpdates'

class DeadlineRules(models.Model):
    """Migrated from drizzle: deadlines-schema.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    organization_id = models.UUIDField(null=True, blank=True)

    class Meta:
        db_table = 'deadline_rules'
        verbose_name = 'DeadlineRules'

class ClaimDeadlines(models.Model):
    """Migrated from drizzle: deadlines-schema.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    claim_id = models.UUIDField()
    organization_id = models.UUIDField(null=True, blank=True)

    class Meta:
        db_table = 'claim_deadlines'
        verbose_name = 'ClaimDeadlines'

class DeadlineExtensions(models.Model):
    """Migrated from drizzle: deadlines-schema.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    deadline_id = models.UUIDField()
    organization_id = models.UUIDField(null=True, blank=True)

    class Meta:
        db_table = 'deadline_extensions'
        verbose_name = 'DeadlineExtensions'

class DeadlineAlerts(models.Model):
    """Migrated from drizzle: deadlines-schema.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    deadline_id = models.UUIDField()
    organization_id = models.UUIDField(null=True, blank=True)

    class Meta:
        db_table = 'deadline_alerts'
        verbose_name = 'DeadlineAlerts'

class DefensibilityPacks(models.Model):
    """Migrated from drizzle: defensibility-packs-schema.ts"""
    pack_id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    case_id = models.UUIDField()
    case_number = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = 'defensibility_packs'
        verbose_name = 'DefensibilityPacks'

class PackDownloadLog(models.Model):
    """Migrated from drizzle: defensibility-packs-schema.ts"""
    log_id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    pack_id = models.UUIDField()
    case_number = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = 'pack_download_log'
        verbose_name = 'PackDownloadLog'

class PackVerificationLog(models.Model):
    """Migrated from drizzle: defensibility-packs-schema.ts"""
    verification_id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    pack_id = models.UUIDField()
    case_number = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = 'pack_verification_log'
        verbose_name = 'PackVerificationLog'

class Grievances(models.Model):
    """Migrated from drizzle: grievances.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    grievance_number = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = 'grievances'
        verbose_name = 'Grievances'

    def __str__(self):
        return str(self.grievance_number)

class GrievanceResponses(models.Model):
    """Migrated from drizzle: grievances.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    grievance = models.ForeignKey('Grievances', on_delete=models.CASCADE, related_name='grievances')
    response_number = models.IntegerField()
    responding_party = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = 'grievance_responses'
        verbose_name = 'GrievanceResponses'

class Arbitrations(models.Model):
    """Migrated from drizzle: grievances.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    grievance = models.ForeignKey('Grievances', on_delete=models.CASCADE, related_name='grievances')
    arbitration_number = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = 'arbitrations'
        verbose_name = 'Arbitrations'

class Settlements(models.Model):
    """Migrated from drizzle: grievances.ts"""
    SETTLEMENT_TYPE_CHOICES = [('monetary', 'Monetary'), ('non_monetary', 'Non Monetary'), ('policy_change', 'Policy Change'), (' reinstatement', ' Reinstatement'), ('apology', 'Apology'), ('training', 'Training'), ('other', 'Other')]

    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    grievance = models.ForeignKey('Grievances', on_delete=models.CASCADE, related_name='grievances')
    arbitration = models.ForeignKey('Arbitrations', on_delete=models.CASCADE, related_name='arbitrations', null=True, blank=True)
    settlement_type = models.CharField(choices=SETTLEMENT_TYPE_CHOICES, max_length=24)
    status = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = 'settlements'
        verbose_name = 'Settlements'

class GrievanceTimeline(models.Model):
    """Migrated from drizzle: grievances.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    grievance = models.ForeignKey('Grievances', on_delete=models.CASCADE, related_name='grievances')
    event_type = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = 'grievance_timeline'
        verbose_name = 'GrievanceTimeline'

class GrievanceDeadlines(models.Model):
    """Migrated from drizzle: grievances.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    grievance = models.ForeignKey('Grievances', on_delete=models.CASCADE, related_name='grievances')
    deadline_type = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = 'grievance_deadlines'
        verbose_name = 'GrievanceDeadlines'

class GrievanceWorkflows(models.Model):
    """Migrated from drizzle: workflows.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    organization_id = models.UUIDField()
    name = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = 'grievance_workflows'
        verbose_name = 'GrievanceWorkflows'

    def __str__(self):
        return str(self.name)

class GrievanceStages(models.Model):
    """Migrated from drizzle: workflows.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    organization_id = models.UUIDField()
    workflow = models.ForeignKey('GrievanceWorkflows', on_delete=models.CASCADE, related_name='workflows', null=True, blank=True)

    class Meta:
        db_table = 'grievance_stages'
        verbose_name = 'GrievanceStages'

class GrievanceTransitions(models.Model):
    """Migrated from drizzle: workflows.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    organization_id = models.UUIDField()
    claim = models.ForeignKey('Claims', on_delete=models.CASCADE, related_name='claims')
    from_stage = models.ForeignKey('GrievanceStages', on_delete=models.CASCADE, related_name='fromstages', null=True, blank=True)
    to_stage = models.ForeignKey('GrievanceStages', on_delete=models.CASCADE, related_name='tostages')
    trigger_type = models.TextField()
    reason = models.TextField(null=True, blank=True)
    notes = models.TextField(null=True, blank=True)
    transitioned_by = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = 'grievance_transitions'
        verbose_name = 'GrievanceTransitions'

class GrievanceAssignments(models.Model):
    """Migrated from drizzle: workflows.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    organization_id = models.UUIDField()
    claim = models.ForeignKey('Claims', on_delete=models.CASCADE, related_name='claims')
    assigned_to = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = 'grievance_assignments'
        verbose_name = 'GrievanceAssignments'

class GrievanceDocuments(models.Model):
    """Migrated from drizzle: workflows.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    organization_id = models.UUIDField()
    claim = models.ForeignKey('Claims', on_delete=models.CASCADE, related_name='claims')
    document_name = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = 'grievance_documents'
        verbose_name = 'GrievanceDocuments'

class GrievanceSettlements(models.Model):
    """Migrated from drizzle: workflows.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    organization_id = models.UUIDField()
    claim = models.ForeignKey('Claims', on_delete=models.CASCADE, related_name='claims')
    settlement_type = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = 'grievance_settlements'
        verbose_name = 'GrievanceSettlements'

class GrievanceCommunications(models.Model):
    """Migrated from drizzle: workflows.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    organization_id = models.UUIDField()
    claim = models.ForeignKey('Claims', on_delete=models.CASCADE, related_name='claims')
    communication_type = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = 'grievance_communications'
        verbose_name = 'GrievanceCommunications'

class GrievanceApprovals(models.Model):
    """Migrated from drizzle: workflows.ts"""
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    organization_id = models.UUIDField()
    transition = models.ForeignKey('GrievanceTransitions', on_delete=models.CASCADE, related_name='transitions')

    class Meta:
        db_table = 'grievance_approvals'
        verbose_name = 'GrievanceApprovals'